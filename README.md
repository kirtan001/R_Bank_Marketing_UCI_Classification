---
title: End-to-End MLOps: UCI Bank Marketing Analysis
emoji: üè¶
colorFrom: blue
colorTo: green
sdk: docker
pinned: false
app_port: 7860
---

# End-to-End MLOps: UCI Bank Marketing Analysis

![R](https://img.shields.io/badge/R-4.3.1-blue)
![Tidymodels](https://img.shields.io/badge/Framework-Tidymodels-orange)
![Shiny](https://img.shields.io/badge/App-Shiny-green)
![Docker](https://img.shields.io/badge/Container-Docker-blue)
![CI/CD](https://github.com/kirtan001/R_Bank_Marketing_UCI_Classification/actions/workflows/main.yaml/badge.svg)

This project is a complete MLOps implementation for predicting term deposit subscriptions using the UCI Bank Marketing dataset. It includes data processing, model training (XGBoost), experiment tracking (MLflow), and deployment (Shiny App & Plumber API).

## üìÇ Project Structure

```
‚îú‚îÄ‚îÄ analysis
‚îÇ   ‚îî‚îÄ‚îÄ (EDA and research files)
‚îú‚îÄ‚îÄ data
‚îÇ   ‚îî‚îÄ‚îÄ (Dataset files downloaded automatically)
‚îú‚îÄ‚îÄ src
‚îÇ   ‚îú‚îÄ‚îÄ app.R          # Interactive Shiny App for Hugging Face
‚îÇ   ‚îú‚îÄ‚îÄ plumber.R      # REST API for model serving
‚îÇ   ‚îî‚îÄ‚îÄ model.rds      # Trained model artifact (generated by report)
‚îú‚îÄ‚îÄ tests
‚îÇ   ‚îî‚îÄ‚îÄ (Unit tests for model validation)
‚îú‚îÄ‚îÄ .github/workflows
‚îÇ   ‚îî‚îÄ‚îÄ main.yaml      # CI/CD: Builds & Pushes Docker Image to GHCR
‚îú‚îÄ‚îÄ Dockerfile         # Configuration for containerization
‚îú‚îÄ‚îÄ final_report.Rmd   # Main report: Data -> Training -> Evaluation
‚îî‚îÄ‚îÄ README.md          # Project documentation
```

## üöÄ How to Run

### 1. Generate the Model
Before running the app or API, you must train the model.
Open `final_report.Rmd` in RStudio and click **Knit**.
*   This will run the entire pipeline.
*   It protects against data leakage.
*   It saves the best model to `src/model.rds`.

### 2. Run Locally (Shiny App)
Open `src/app.R` in RStudio and click **Run App**.

### 3. Run Locally (Plumber API)
Run the following R code:
```r
library(plumber)
pr <- plumb("src/plumber.R")
pr$run(port = 8000)
```

## ‚òÅÔ∏è Deployment (Hugging Face Spaces)

This project is configured for **Docker** deployment on Hugging Face.

### Option A: Direct GitHub Connection (Recommended)
1.  **Push to GitHub**: Commit all files (including `src/model.rds`) and push to your repository.
2.  **Create Space**: Go to Hugging Face Spaces -> "Create new Space".
3.  **Select SDK**: Choose **Docker**.
4.  **Connect Repo**: Select your GitHub repository.
5.  **Build**: Hugging Face will automatically build the Docker image and launch the app.

### Option B: Use Pre-Built Image from GitHub Packages (GHCR)
The CI/CD pipeline automatically builds and pushes the Docker image to GitHub Container Registry.

1.  Go to your GitHub Repository -> **Packages**.
2.  Copy the full image URL (e.g., `ghcr.io/username/repo:main`).
3.  In Hugging Face Space settings, you can configure it to pull this image (requires Access Token if private).

### Option C: Automated CI/CD (GitHub Actions) [Recommended]
We have configured `main.yaml` to automatically push code improvements to Hugging Face.

1.  **Get Token**: Go to Hugging Face -> Settings -> Access Tokens -> Create "Write" Token.
2.  **Add Secret**: Go to GitHub Repo -> Settings -> Secrets and variables -> Actions -> New Repository Secret.
    *   Name: `HF_TOKEN`
    *   Value: (Paste your token)
3.  **Deploy**: Any push to `main` will now auto-update your Space!

## ü§ñ CI/CD Pipeline
The `main.yaml` workflow performs the following:
1.  **Lints Code**: Checks R syntax for errors.
2.  **Builds Docker Image**: Creates the production container.
3.  **Pushes to GHCR**: Stores the image in GitHub Packages for easy deployment.

## üõ†Ô∏è Technologies
*   **Modeling**: `tidymodels`, `xgboost`, `ranger`, `themis` (SMOTE).
*   **Deployment**: `shiny`, `plumber`, `docker`.
*   **Validation**: `testthat`, `yardstick`.
